$('#total-visits').html('<%= @total_visits %>');

$('#clean-places').html('<%= @clean %>');
$('#clean-places-percentage').html('<%= @clean.positive? ? "└> #{(@clean * 100) / @total_visits}% dos locais visitados" : 'Número de visitas insuficientes para cálculo' %>');

$('#closed-or-refused').html('<%= @closed_or_refused %>');
$('#closed-or-refused-percentage').html('<%= @closed_or_refused.positive? ? "└> #{(@closed_or_refused * 100) / @total_visits}% dos locais visitados" : 'Número de visitas insuficientes para cálculo' %>');

$('#with-larvae').html('<%= @with_larvae %>');
$('#with-larvae-percentage').html('<%= @with_larvae.positive? ? "└> #{(@with_larvae * 100) / @total_visits}% dos locais visitados" : 'Número de visitas insuficientes para cálculo' %>');

Chartkick.charts['species-by-region-chart'].updateData(JSON.parse('<%= j raw(@species_by_region.to_json) %>'));
Chartkick.charts['number-of-larvae-per-region-chart'].updateData(JSON.parse('<%= j raw(@number_of_larvae_per_region.to_json) %>'));
Chartkick.charts['property-types-chart'].updateData(JSON.parse('<%= j raw(@property_types.to_json) %>'));
Chartkick.charts['contaminated-places-chart'].updateData(JSON.parse('<%= j raw(@contaminated_places.to_json) %>'));
